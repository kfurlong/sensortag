<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>TI-RTOS for SimpleLink Wireless MCUs: PWMTimerMSP432.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TI-RTOS for SimpleLink Wireless MCUs
   &#160;<span id="projectnumber">2.13.00.06</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b7f13d33c9ff829e41eca277e5b10f32.html">tirtos_simplelink_2_13_00_06</a></li><li class="navelem"><a class="el" href="dir_914ef8c92054fbd19b873011105ec041.html">packages</a></li><li class="navelem"><a class="el" href="dir_abd11468e5a5b51896344ba99410f96c.html">ti</a></li><li class="navelem"><a class="el" href="dir_91d6028ef0aa1035242bfefa07cd806e.html">drivers</a></li><li class="navelem"><a class="el" href="dir_cad17b9f769a17e178b8a9a80c710d7b.html">pwm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">PWMTimerMSP432.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>PWM driver implementation. </p>
<p>============================================================================</p>
<p>The PWM header file should be included in an application as follows: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_p_w_m_8h.html">ti/drivers/PWM.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_p_w_m_timer_m_s_p432_8h.html">ti/drivers/pwm/PWMTimerMSP432.h</a>&gt;</span></div>
</div><!-- fragment --><h2>Operation</h2>
<p>This driver configures an MSP432 Timer_A peripheral for PWM. Opening a PWM instance will make the corresponding timer unavailable to the TI-RTOS kernel until all PWM instances dependant on that timer are closed. Additionally, if the required timer is already used by the kernel, PWM instances will not be opened.</p>
<p>When used for PWM generation, each Timer_A can produce up to 6 PWM outputs. This driver manages each output as an independent PWM instance. However since a single period and prescalar are used for all Timer outputs, there are limitations in place to ensure proper operation:</p><ol type="1">
<li>The PWM period and prescalar are calculated and set based on the first instance opened. Opening a second instance will fail if the period is not the same as what was set by the first instance.</li>
</ol>
<p>The timer is automatically configured in count-up mode using the SMCLK clock as the source. In PWM mode, the timers capture/compare register 0 is used as the period register and cannot be used to generate a PWM output.</p>
<p>The period and duty registers are 16 bits wide, thus a prescalar is used to divide the input clock and allow for larger periods. The maximum period supported is calculated as: MAX_PERIOD = (MAX_PRESCALAR * MAX_MATCH_VALUE) / CYCLES_PER_US 12 MHz clock: (64 * 65535) / 12 = 349520 microseconds 6 MHz clock: (64 * 65535) / 6 = 699040 microseconds 3 MHz clock: (64 * 65535) / 3 = 1398080 microseconds</p>
<p>After opening, the <a class="el" href="_p_w_m_8h.html#ade999f5b12997479efa1ac85aaf46ef5" title="Function performs implementation specific features on a given PWM_Handle. ">PWM_control()</a> API can be used to change the PWM period. Keep in mind the period is shared by all other PWMs on the timer. Below is an example of how to use the <a class="el" href="_p_w_m_8h.html#ade999f5b12997479efa1ac85aaf46ef5" title="Function performs implementation specific features on a given PWM_Handle. ">PWM_control()</a> API to change a period:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> rc = 0;</div>
<div class="line"><span class="keywordtype">int</span> newPeriod = 6000;   <span class="comment">// Period in microseconds</span></div>
<div class="line"></div>
<div class="line">rc = <a class="code" href="_p_w_m_8h.html#ade999f5b12997479efa1ac85aaf46ef5">PWM_control</a>(pwmHandle, <a class="code" href="_p_w_m_timer_m_s_p432_8h.html#af4889b739a2240171923e90324ddf94b">PWMTimerMSP432_CHANGE_PERIOD</a>, &amp;newPeriod);</div>
<div class="line"><span class="keywordflow">if</span> (rc &lt; 0) {</div>
<div class="line">  <span class="comment">// handle error condition</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>Updates to a PWM instance will occur instantaneously. If the duty supplied is greater than the period, the output will remain in active state. </p><hr/>
</div><div class="textblock"><code>#include &lt;<a class="el" href="_p_w_m_8h_source.html">ti/drivers/PWM.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for PWMTimerMSP432.h:</div>
<div class="dyncontent">
<div class="center"><img src="_p_w_m_timer_m_s_p432_8h__incl.png" border="0" usemap="#_p_w_m_timer_m_s_p432_8h" alt=""/></div>
<map name="_p_w_m_timer_m_s_p432_8h" id="_p_w_m_timer_m_s_p432_8h">
<area shape="rect" href="_p_w_m_8h.html" title="PWM driver interface. " alt="" coords="26,84,143,108" /></map>
</div>
</div>
<p><a href="_p_w_m_timer_m_s_p432_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_p_w_m_timer_m_s_p432___h_w_attrs.html">PWMTimerMSP432_HWAttrs</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">PWMTimerMSP432 Hardware attributes.  <a href="struct_p_w_m_timer_m_s_p432___h_w_attrs.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_p_w_m_timer_m_s_p432___status.html">PWMTimerMSP432_Status</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="struct_p_w_m_timer_m_s_p432___status.html" title="PWMTimerMSP432_Status. ">PWMTimerMSP432_Status</a>.  <a href="struct_p_w_m_timer_m_s_p432___status.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_p_w_m_timer_m_s_p432___object.html">PWMTimerMSP432_Object</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">PWMTimerMSP432 Object.  <a href="struct_p_w_m_timer_m_s_p432___object.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a763d487bae17c79c424242127b53518c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_w_m_timer_m_s_p432_8h.html#a763d487bae17c79c424242127b53518c">PWMTimerMSP432_NUM_TIMERS</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a763d487bae17c79c424242127b53518c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4889b739a2240171923e90324ddf94b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_w_m_timer_m_s_p432_8h.html#af4889b739a2240171923e90324ddf94b">PWMTimerMSP432_CHANGE_PERIOD</a>&#160;&#160;&#160;<a class="el" href="_p_w_m_8h.html#ad731f4db58c72d280900da4be6e3434c">PWM_CMD_RESERVED</a> + 0</td></tr>
<tr class="separator:af4889b739a2240171923e90324ddf94b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a63353889735b1371acd138ea0927cefc"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_p_w_m_timer_m_s_p432___h_w_attrs.html">PWMTimerMSP432_HWAttrs</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_w_m_timer_m_s_p432_8h.html#a63353889735b1371acd138ea0927cefc">PWMTimerMSP432_HWAttrs</a></td></tr>
<tr class="memdesc:a63353889735b1371acd138ea0927cefc"><td class="mdescLeft">&#160;</td><td class="mdescRight">PWMTimerMSP432 Hardware attributes.  <a href="#a63353889735b1371acd138ea0927cefc">More...</a><br /></td></tr>
<tr class="separator:a63353889735b1371acd138ea0927cefc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af75fb1cc6f34e3383ce5d416b90961de"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_p_w_m_timer_m_s_p432___status.html">PWMTimerMSP432_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_w_m_timer_m_s_p432_8h.html#af75fb1cc6f34e3383ce5d416b90961de">PWMTimerMSP432_Status</a></td></tr>
<tr class="memdesc:af75fb1cc6f34e3383ce5d416b90961de"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="struct_p_w_m_timer_m_s_p432___status.html" title="PWMTimerMSP432_Status. ">PWMTimerMSP432_Status</a>.  <a href="#af75fb1cc6f34e3383ce5d416b90961de">More...</a><br /></td></tr>
<tr class="separator:af75fb1cc6f34e3383ce5d416b90961de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af38839ac281ee06be9b0aaa2b5f04d13"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_p_w_m_timer_m_s_p432___object.html">PWMTimerMSP432_Object</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_w_m_timer_m_s_p432_8h.html#af38839ac281ee06be9b0aaa2b5f04d13">PWMTimerMSP432_Object</a></td></tr>
<tr class="memdesc:af38839ac281ee06be9b0aaa2b5f04d13"><td class="mdescLeft">&#160;</td><td class="mdescRight">PWMTimerMSP432 Object.  <a href="#af38839ac281ee06be9b0aaa2b5f04d13">More...</a><br /></td></tr>
<tr class="separator:af38839ac281ee06be9b0aaa2b5f04d13"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a59f5d0f3c3d7da66fbfb61dc70dcac30"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_p_w_m___fxn_table.html">PWM_FxnTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_w_m_timer_m_s_p432_8h.html#a59f5d0f3c3d7da66fbfb61dc70dcac30">PWMTimerMSP432_fxnTable</a></td></tr>
<tr class="separator:a59f5d0f3c3d7da66fbfb61dc70dcac30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a763d487bae17c79c424242127b53518c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PWMTimerMSP432_NUM_TIMERS&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af4889b739a2240171923e90324ddf94b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PWMTimerMSP432_CHANGE_PERIOD&#160;&#160;&#160;<a class="el" href="_p_w_m_8h.html#ad731f4db58c72d280900da4be6e3434c">PWM_CMD_RESERVED</a> + 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a63353889735b1371acd138ea0927cefc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_p_w_m_timer_m_s_p432___h_w_attrs.html">PWMTimerMSP432_HWAttrs</a>  <a class="el" href="struct_p_w_m_timer_m_s_p432___h_w_attrs.html">PWMTimerMSP432_HWAttrs</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PWMTimerMSP432 Hardware attributes. </p>
<p>These fields are used by driverlib APIs and therefore must be populated by driverlib macro definitions. For MSP430Ware these definitions are found in:</p><ul>
<li>timer_a.h</li>
</ul>
<p>A sample structure is shown below: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;const PWMTimerMSP432_HWAttrs PWMTimerMSP432HWAttrs[] = {</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    {</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        .baseAddr = TIMER_A0_BASE,</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        .compareRegister = TIMER_A_CAPTURECOMPARE_REGISTER_1</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    },</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;};</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="af75fb1cc6f34e3383ce5d416b90961de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_p_w_m_timer_m_s_p432___status.html">PWMTimerMSP432_Status</a>  <a class="el" href="struct_p_w_m_timer_m_s_p432___status.html">PWMTimerMSP432_Status</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="struct_p_w_m_timer_m_s_p432___status.html" title="PWMTimerMSP432_Status. ">PWMTimerMSP432_Status</a>. </p>
<p>The application must not access any member variables of this structure! </p>

</div>
</div>
<a class="anchor" id="af38839ac281ee06be9b0aaa2b5f04d13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_p_w_m_timer_m_s_p432___object.html">PWMTimerMSP432_Object</a>  <a class="el" href="struct_p_w_m_timer_m_s_p432___object.html">PWMTimerMSP432_Object</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PWMTimerMSP432 Object. </p>
<p>The application must not access any member variables of this structure! </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a59f5d0f3c3d7da66fbfb61dc70dcac30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_p_w_m___fxn_table.html">PWM_FxnTable</a> PWMTimerMSP432_fxnTable</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
Copyright  2015, Texas Instruments Incorporated
</small>
</body>
</html>
